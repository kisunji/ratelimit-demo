<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple frontend</title>
</head>
<body>
    <h1>Simple Frontend</h1>
    <label for="num">Number of requests</label>
    <input id="num" type="number" value="1"/>
    <button id="hello-button">Hello</button>
    <button id="admin-button">Admin</button>
    <br/>
    <label for="text-box">Response: </label>
    <br/>
    <textarea class="textarea" id="text-box"></textarea>
</body>
<script>
    const helloBtn = document.getElementById("hello-button");
    const adminBtn = document.getElementById("admin-button");
    const num = document.getElementById("num");
    helloBtn.addEventListener("click", async () => {
        for (let i = 0; i < num.value; i++) {
            try {
                const response = await fetch("http://localhost:5001/hello")
                document.getElementById("text-box").value += await response.text()
            } catch (error) {
                document.getElementById("text-box").value += error + "\n"
            }
        }
    });
    adminBtn.addEventListener("click", async () => {
        for (let i = 0; i < num.value; i++) {
            try {
                const response = await fetch("http://localhost:5001/admin")
                document.getElementById("text-box").value += await response.text()
            } catch (error) {
                document.getElementById("text-box").value += error + "\n"
            }
        }
    });
</script>
</html>